{"version":3,"sources":["index.js"],"names":["loginForm","document","querySelector","signUpForm","logOutBtn","updateData","newPassword","bookBtn","getElementById","addEventListener","e","preventDefault","email","value","password","name","confirmPassword","logout","form","FormData","append","files","textContent","passwordCurrent","target","tourData","dataset","tourId"],"mappings":"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","file":"bundle.map","sourceRoot":"","sourcesContent":["/* eslint-disable */\r\nimport '@babel/polyfill';\r\n\r\nimport { login } from './logIn';\r\nimport { logout } from './logIn';\r\nimport { signUp } from './signUp';\r\nimport { updateUserData } from './updateSettings';\r\nimport { updateUserPassword } from './updateSettings';\r\n\r\nimport { bookTour } from './stripe';\r\n//reading values\r\n\r\n//DOM element\r\n\r\nconst loginForm = document.querySelector('.form--login');\r\nconst signUpForm = document.querySelector('.form--signUp');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\nconst updateData = document.querySelector('.form-user-data');\r\nconst newPassword = document.querySelector('.form-user-password');\r\nconst bookBtn = document.getElementById('book-tour');\r\n\r\nif (loginForm) {\r\n    loginForm.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        login(email, password);\r\n    });\r\n}\r\nif (signUpForm) {\r\n    signUpForm.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        const name = document.getElementById('name').value;\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        const confirmPassword =\r\n            document.getElementById('confirmPassword').value;\r\n        signUp(name, email, password, confirmPassword);\r\n    });\r\n}\r\n\r\nif (logOutBtn) {\r\n    logOutBtn.addEventListener('click', logout);\r\n}\r\nif (updateData) {\r\n    updateData.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n\r\n        const form = new FormData();\r\n        form.append('name', document.getElementById('name').value);\r\n        form.append('email', document.getElementById('email').value);\r\n        form.append('photo', document.getElementById('photo').files[0]);\r\n\r\n        updateUserData(form);\r\n    });\r\n}\r\nif (newPassword) {\r\n    newPassword.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        document.querySelector('.btn--save-password').textContent =\r\n            'Updating....';\r\n        const passwordCurrent =\r\n            document.getElementById('password-current').value;\r\n\r\n        const password = document.getElementById('password').value;\r\n\r\n        const confirmPassword =\r\n            document.getElementById('password-confirm').value;\r\n\r\n        await updateUserPassword(passwordCurrent, password, confirmPassword);\r\n\r\n        //Clearing the fields\r\n        document.querySelector('.btn--save-password').textContent =\r\n            'Save Password';\r\n        document.getElementById('password-current').value = '';\r\n        document.getElementById('password').value = '';\r\n        document.getElementById('password-confirm').value = '';\r\n    });\r\n}\r\n\r\nif (bookBtn)\r\n    bookBtn.addEventListener('click', (e) => {\r\n        e.target.textContent = 'Processing....';\r\n        const tourData = e.target.dataset.tourId;\r\n        bookTour(tourData);\r\n    });\r\n"]}